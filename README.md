# Gemini CLI

Gemini APIを呼び出すコマンドラインインターフェースです。

## 前提条件

- Python 3.x
- Gemini APIキー。[Google AI Studio](https://makersuite.google.com/app/apikey)から取得できます。
- 環境変数 `GEMINI_API_KEY` にAPIキーを設定してください。

## インストール

1.  このリポジトリをダウンロードまたはクローンします。
2.  `gemini_cli.py` を実行可能にします。

    ```bash
    chmod +x gemini_cli.py
    ```

## 使用方法

```bash
./gemini_cli.py <プロンプト> [オプション]
```

### 引数

*   `<プロンプト>` (オプション): Gemini APIへのプロンプト。指定しない場合、または `-` を指定した場合は、標準入力からプロンプトを読み取ります。

### オプション

*   `--prompt <プロンプト>`: プロンプトを指定する別の方法。位置引数 `<プロンプト>` と `--prompt` の両方が指定された場合、`--prompt` が優先されます。

### 例

**1. 位置引数としてプロンプトを指定する:**

```bash
./gemini_cli.py "春についての短い詩を書いて"
```

**2. `--prompt` オプションを使用してプロンプトを指定する:**

```bash
./gemini_cli.py --prompt "「こんにちは、世界！」を日本語に翻訳して"
```

**3. 位置引数として `-` を使用して標準入力からプロンプトを読み取る:**

```bash
echo "この記事の要点を要約してください" | ./gemini_cli.py -
```

または

```bash
./gemini_cli.py -
<ここにプロンプトを入力してCtrl+Dを押してください>
```

**4. 位置引数または `--prompt` オプションが指定されていない場合にパイプからプロンプトを読み取る:**

```bash
echo "プログラミングにおける再帰の概念を説明してください" | ./gemini_cli.py
```

## 環境変数 `GEMINI_API_KEY` の設定

`gemini_cli.py` を動作させるには、環境変数 `GEMINI_API_KEY` を設定する必要があります。

**Linux/macOSの場合:**

以下の行を `.bashrc`、`.zshrc`、または同様のシェル設定ファイルに追加できます。

```bash
export GEMINI_API_KEY="YOUR_API_KEY_HERE"
```

`"YOUR_API_KEY_HERE"` を実際の Gemini API キーに置き換えてください。この行を追加した後、`source ~/.bashrc` または `source ~/.zshrc` を実行して、現在のシェルセッションに変更を適用する必要がある場合があります。

**Windowsの場合:**

システムプロパティダイアログから環境変数を設定できます。

1.  `Win + R` を押し、`sysdm.cpl` と入力してEnterキーを押します。
2.  「詳細設定」タブに移動し、「環境変数...」をクリックします。
3.  「システム環境変数」で、「新規...」をクリックします。
4.  「変数名」に `GEMINI_API_KEY`、「変数値」にAPIキーを入力します。
5.  「OK」をクリックして、すべてのダイアログを閉じます。

## エラー処理

*   `GEMINI_API_KEY` 環境変数が設定されていない場合、スクリプトはエラーメッセージを出力して終了します。
*   引数、オプション、または標準入力（パイプまたは `-` と標準入力）を介してプロンプトが提供されない場合、スクリプトはエラーメッセージを出力して終了します。
*   位置引数として `-` を使用する場合、標準入力がターミナル（パイプではない）の場合、スクリプトはエラーメッセージを出力して終了します。これは、この場合、入力がパイプまたは非対話型入力によって提供されることを想定しているためです。
